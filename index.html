<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Cosmic Dither Shader</title>
  <style>
    html, body {
        margin: 0;
        height: 100%;
        overflow: hidden;
    }
    #c {
        width: 100%;
        height: 100%;
        display: block;
    }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.156.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.156.0/examples/jsm/"
    }
  }
  </script>
  <script type="module">
    import * as THREE from 'three'; // importing the whole three js library 

    const canvas = document.querySelector('#c'); // getting the canvas
    const renderer = new THREE.WebGLRenderer({canvas: canvas}); // creating the renderer whihc will draw everything on the screen and display it on the canvas, take the whole 3d scene and display it on the screen using that canvas

    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1); // making the camera, whihc is a 2d camera, it does not add perspective distortion, bcs i have am using a pattern so that is why we are using this camera

    const scene = new THREE.Scene(); // creating the scene, it is a container whihc will hold everything like camera, lights and all of that

    const material = new THREE.ShaderMaterial({ // skin of the object, like how it will appear
      uniforms: { //values whihc we send from javascript to our shader to control time, resolution
        iTime: { value: 0 }, // how much time has passed since we started so animation moves smoothly
        iResolution: { value: new THREE.Vector3() } // resolution of the screen
      },
      vertexShader: ` 
        varying vec2 vUv; 
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,
      fragmentShader: ` // color of the pixels
        uniform float iTime;
        uniform vec3 iResolution;
        varying vec2 vUv;

        const float SEED = 42.0;

        float swayRandomized(float seed, float value)
        {
            float f = floor(value);
            float start = sin((cos(f * seed) + sin(f * 1024.)) * 345. + seed);
            float end   = sin((cos((f+1.) * seed) + sin((f+1.) * 1024.)) * 345. + seed);
            return mix(start, end, smoothstep(0., 1., value - f));
        }

        float cosmic(float seed, vec3 con)
        {
            float sum = swayRandomized(seed, con.z + con.x);
            sum = sum + swayRandomized(seed, con.x + con.y + sum);
            sum = sum + swayRandomized(seed, con.y + con.z + sum);
            return sum * 0.3333333333;
        }

        vec4 dither(float chance, vec2 uv)
        {
            return vec4(vec3(step(chance * 1.5,
                                  dot(sin(uv.xy), cos(uv.yx)))
                        ), 1.0);
        }

        void main()
        {
            vec2 fragCoord = vUv * iResolution.xy;
            vec2 uv = fragCoord / iResolution.xy;
            
            float aTime = iTime * 0.125;
            vec3 s = vec3(swayRandomized(-16405.31527, aTime - 1.11),
                          swayRandomized(-77664.8142, aTime + 1.41),
                          swayRandomized(-50993.5190, aTime + 2.61)) * 5.;
            vec3 c = vec3(swayRandomized(-10527.92407, aTime - 1.11),
                          swayRandomized(-61557.6687, aTime + 1.41),
                          swayRandomized(-43527.8990, aTime + 2.61)) * 5.;
            vec3 con = vec3(0.0004375, 0.0005625, 0.0008125) * aTime + c * uv.x + s * uv.y;
            con.x = cosmic(SEED, con);
            con.y = cosmic(SEED, con);
            con.z = cosmic(SEED, con);
            
            gl_FragColor = dither(sin(con.z * 3.14159265), uv * iTime * 71.0);
        }
      `
    });

    const geometry = new THREE.PlaneGeometry(2, 2);
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);

    function render(time) {
      time = time * 0.001;

      if (resizeRendererToDisplaySize(renderer)) {
        const canvas = renderer.domElement;
        material.uniforms.iResolution.value.set(canvas.width, canvas.height, 1);
      }

      material.uniforms.iTime.value = time;
    
      renderer.render(scene, camera);
    
      requestAnimationFrame(render);
    }

    function resizeRendererToDisplaySize(renderer) {
      const canvas = renderer.domElement;
      const pixelRatio = window.devicePixelRatio;
      const width  = Math.floor(canvas.clientWidth * pixelRatio);
      const height = Math.floor(canvas.clientHeight * pixelRatio);
      const needResize = canvas.width !== width || canvas.height !== height;
      if (needResize) {
        renderer.setSize(width, height, false);
      }
      return needResize;
    }

    requestAnimationFrame(render);

  </script>
</body>
</html> -->




<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Dither Pattern Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            background: #000;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .control-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            max-height: calc(100vh - 40px);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            z-index: 10;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #333;
        }

        .section {
            margin-bottom: 25px;
        }

        .section h3 {
            font-size: 14px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        label {
            display: block;
            margin-bottom: 15px;
            font-size: 14px;
            color: #333;
        }

        input[type="range"] {
            width: 100%;
            margin-top: 5px;
        }

        button {
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .pattern-btn, .palette-btn {
            background: #f0f0f0;
            color: #333;
        }

        .pattern-btn:hover, .palette-btn:hover {
            background: #e0e0e0;
        }

        .pattern-btn.active, .palette-btn.active {
            background: #4a90e2;
            color: white;
        }

        .action-btn {
            background: #4a90e2;
            color: white;
            font-weight: bold;
        }

        .action-btn:hover {
            background: #357abd;
        }

        #gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 10px;
        }

        .gallery-item {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>

    <div class="control-panel">
        
        
        <div class="section">
            <h3>Pattern Style</h3>
            <button class="pattern-btn active">Cosmic Dither</button>
        </div>

        <div class="section">
            <h3>Parameters</h3>
            
            <label>
                Time Scale: <span id="speed-value">0.125</span>
                <input type="range" id="speed" min="0" max="0.5" step="0.001" value="0.125">
            </label>

            <label>
                Dither Intensity: <span id="intensity-value">1.5</span>
                <input type="range" id="intensity" min="0.5" max="3.0" step="0.1" value="1.5">
            </label>

            <label>
                Pattern Frequency: <span id="frequency-value">71.0</span>
                <input type="range" id="frequency" min="10" max="200" step="1" value="71.0">
            </label>

            <label>
                Seed: <span id="seed-value">42.0</span>
                <input type="range" id="seed" min="1" max="100" step="1" value="42.0">
            </label>
        </div>

        <div class="section">
            <h3>Actions</h3>
            <button id="randomize-btn" class="action-btn">Randomize</button>
            <button id="freeze-btn" class="action-btn">Freeze</button>
            <button id="export-btn" class="action-btn">Export PNG</button>
        </div>

        <div class="section">
            <h3>Gallery</h3>
            <div id="gallery"></div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
    
</body>
</html> -->









<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shader Generator</title>
    <link rel="stylesheet" href="./src/style.css">
</head>
<body>
    <video id="video" autoplay style="display: none;"></video>
    <div id="canvas-container"></div>
    <button id="toggle-panel-btn" class="toggle-panel">âœ•</button>
    <div class="control-panel">
        <h1>Pattern Generator</h1>
        
        <div class="section">
            <h3>Select Shader</h3>
            <select id="shader-select">
                <option value="cosmic">Cosmic Dither</option>
                <option value="pixelated">Pixelated Duotone</option>
            </select>
        </div>

        <!-- Cosmic Dither Controls -->
        <div id="cosmic-controls" class="shader-controls">
            <div class="section">
                <h3>Parameters</h3>
                
                <label>
                    Time Scale: <span id="speed-value">0.125</span>
                    <input type="range" id="speed" min="0" max="0.5" step="0.001" value="0.125">
                </label>

                <label>
                    Dither Intensity: <span id="intensity-value">1.5</span>
                    <input type="range" id="intensity" min="0.5" max="3.0" step="0.1" value="1.5">
                </label>

                <label>
                    Pattern Frequency: <span id="frequency-value">71.0</span>
                    <input type="range" id="frequency" min="10" max="200" step="1" value="71.0">
                </label>

                <label>
                    Seed: <span id="seed-value">42.0</span>
                    <input type="range" id="seed" min="1" max="100" step="1" value="42.0">
                </label>
               
            </div>

           

            <div class="section">
                <h3>Actions</h3>
                <button id="cosmic-randomize-btn" class="action-btn">Randomize</button>
                <button id="cosmic-freeze-btn" class="action-btn">Freeze</button>
                <button id="cosmic-export-btn" class="action-btn">Export PNG</button>
                <button id="cosmic-poster-btn" class="action-btn poster-btn">Create Poster</button>
            </div>

            <div class="section">
                <h3>Gallery</h3>
                <div id="cosmic-gallery"></div>
            </div>
        </div>

        <!-- Pixelated Duotone Controls -->
        <div id="pixelated-controls" class="shader-controls" style="display: none;">
            <div class="section">
                <h3>Camera Status</h3>
                <div id="status" class="status">Starting camera...</div>
            </div>

            <div class="section">
                <h3>Pixelation Style</h3>
                <select id="style">
                    <option value="0">Square Pixels</option>
                    <option value="1">Circles/Dots</option>
                    <option value="2">Hexagons</option>
                    <option value="3">Triangles</option>
                </select>
            </div>

            <div class="section">
                <h3>Pixelation Settings</h3>
                
                <label>
                    Split Position: <span id="split-value">1.50</span>
                    <input type="range" id="split" min="0" max="2" step="0.05" value="1.5">
                </label>

                <label>
                    Pixel Width: <span id="pixel-w-value">10</span>
                    <input type="range" id="pixel-w" min="2" max="50" step="1" value="10">
                </label>

                <label>
                    Pixel Height: <span id="pixel-h-value">10</span>
                    <input type="range" id="pixel-h" min="2" max="50" step="1" value="10">
                </label>
                
            </div>

            <div class="section">
                <h3>Colors</h3>
                
                <div class="color-row">
                    <span>Background:</span>
                    <input type="color" id="bg-color" value="#a1ab05">
                </div>

                <div class="color-row">
                    <span>Foreground:</span>
                    <input type="color" id="fg-color" value="#1c6b6b">
                </div>

                <label>
                    Threshold: <span id="threshold-value">0.90</span>
                    <input type="range" id="threshold" min="0" max="1.5" step="0.05" value="0.9">
                </label>
            </div>

          
            <div class="section">
                <h3>Actions</h3>
                <button id="reset-btn" class="action-btn">Reset to Default</button>
                <button id="pixelated-export-btn" class="action-btn">Export PNG</button>
                <button id="pixelated-poster-btn" class="action-btn poster-btn">Create Poster</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>


